import{d as k,m as S,h as b,a as t,F,r as $,b as o,t as V,o as e,_ as P,f as l,i as a,j as w,u as B,e as u,k as f,c as x,l as I,T as N,n as D}from"./index-CkJJtA6h.js";const M={class:"categories"},q=["onClick"],A=["onClick"],E=k({__name:"CategoriesFilter",props:S({categories:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const c=v.categories,r=b(v,"modelValue");function _(p){var n;(n=r.value)==null||n.add(p)}function m(p){var n;(n=r.value)==null||n.delete(p)}return(p,n)=>(e(),t("div",M,[(e(!0),t(F,null,$(o(c),i=>{var s;return e(),t("div",{key:i},[(s=r.value)!=null&&s.has(i)?(e(),t("div",{key:1,onClick:()=>m(i),class:"category-chosen"},V(i),9,A)):(e(),t("div",{key:0,class:"category",onClick:()=>_(i)},V(i),9,q))])}),128))]))}}),T=P(E,[["__scopeId","data-v-514f2c16"]]),j={class:"grid grid-rows-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3"},z=k({__name:"PostsSkeleton",setup(v){return(d,c)=>(e(),t("div",j,[l(a),l(a),l(a),l(a),l(a),l(a),l(a),l(a),l(a,{class:"block sm:hidden md:block"})]))}}),H={class:"main-wrapper"},K={key:0},L={style:{display:"flex",gap:"10px"}},Q={class:"pt-3"},U={key:1,class:"text text-center"},W={key:2,class:"grid grid-rows-3 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3"},G={key:2,class:"text"},J=k({__name:"PostsView",setup(v){const d=w(new Set([])),c=w(!0),{isPending:r,isError:_,data:m,error:p}=B({queryKey:["posts"],queryFn:()=>D(void 0)});function n(i){return d.value.size===0?i:i.filter(s=>I(d.value,s.categories))}return(i,s)=>{var h,C,y;return e(),t("div",H,[u("main",null,[s[4]||(s[4]=u("h1",{class:"title"},"Posts",-1)),c.value&&!o(r)&&!o(_)?(e(),t("div",K,[o(r)?f("",!0):(e(),x(T,{key:0,categories:((h=o(m))==null?void 0:h.allCategories)||[],modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=g=>d.value=g)},null,8,["categories","modelValue"])),u("div",L,[u("div",{onClick:s[1]||(s[1]=()=>d.value=new Set([])),class:"filter-util"}," Clear Filters "),u("div",{onClick:s[2]||(s[2]=()=>c.value=!1),class:"filter-util"},"Hide Filters")])])):!o(r)&&!o(_)?(e(),t("div",{key:1,onClick:s[3]||(s[3]=()=>c.value=!0),class:"filter-util"}," Show Filters ")):f("",!0),u("div",Q,[o(r)?(e(),x(z,{key:0})):o(_)?(e(),t("div",U,"Service Is Currently Down.")):(e(),t("div",W,[(e(!0),t(F,null,$(n(((C=o(m))==null?void 0:C.posts)||[]),g=>(e(),t("div",null,[l(N,{title:g.title,categories:g.categories,href:`posts/post/${g.sk}`},null,8,["title","categories","href"])]))),256))]))]),!o(r)&&((y=o(m))==null?void 0:y.posts.length)===0?(e(),t("p",G,"No posts at the moment!")):f("",!0)])])}}}),R=P(J,[["__scopeId","data-v-8ac78e57"]]);export{R as default};
