import{d as y,m as w,h as P,a as t,F as V,r as F,b as i,t as h,o as s,_ as x,i as C,u as $,e as n,j as v,c as B,k as N,f as S,T as b,l as I}from"./index-CmdBH2n_.js";const M={class:"categories"},q=["onClick"],A=["onClick"],D=y({__name:"CategoriesFilter",props:w({categories:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(m){const d=m.categories,l=P(m,"modelValue");function _(c){var a;(a=l.value)==null||a.add(c)}function u(c){var a;(a=l.value)==null||a.delete(c)}return(c,a)=>(s(),t("div",M,[(s(!0),t(V,null,F(i(d),o=>{var e;return s(),t("div",{key:o},[(e=l.value)!=null&&e.has(o)?(s(),t("div",{key:1,onClick:()=>u(o),class:"category-chosen"},h(o),9,A)):(s(),t("div",{key:0,class:"category",onClick:()=>_(o)},h(o),9,q))])}),128))]))}}),E=x(D,[["__scopeId","data-v-514f2c16"]]),T={class:"main-wrapper"},j={key:0},z={style:{display:"flex",gap:"10px"}},H={class:"thumbnail-container",style:{"padding-top":"15px"}},K={key:2,class:"text"},L=y({__name:"PostsView",setup(m){const r=C(new Set([])),d=C(!0),{isPending:l,isError:_,data:u,error:c}=$({queryKey:["posts"],queryFn:()=>I(void 0)});function a(o){return r.value.size===0?o:o.filter(e=>N(r.value,e.categories))}return(o,e)=>{var f,g,k;return s(),t("div",T,[n("main",null,[e[4]||(e[4]=n("h1",{class:"title"},"Posts",-1)),d.value?(s(),t("div",j,[i(l)?v("",!0):(s(),B(E,{key:0,categories:((f=i(u))==null?void 0:f.allCategories)||[],modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=p=>r.value=p)},null,8,["categories","modelValue"])),n("div",z,[n("div",{onClick:e[1]||(e[1]=()=>r.value=new Set([])),class:"filter-util"}," Clear Filters "),n("div",{onClick:e[2]||(e[2]=()=>d.value=!1),class:"filter-util"},"Hide Filters")])])):(s(),t("div",{key:1,onClick:e[3]||(e[3]=()=>d.value=!0),class:"filter-util"},"Show Filters")),n("div",H,[i(l)?v("",!0):(s(!0),t(V,{key:0},F(a(((g=i(u))==null?void 0:g.posts)||[]),p=>(s(),t("div",null,[S(b,{title:p.title,categories:p.categories,href:`posts/post/${p.sk}`},null,8,["title","categories","href"])]))),256))]),!i(l)&&((k=i(u))==null?void 0:k.posts.length)===0?(s(),t("p",K,"No posts at the moment!")):v("",!0)])])}}}),U=x(L,[["__scopeId","data-v-89c6a042"]]);export{U as default};
